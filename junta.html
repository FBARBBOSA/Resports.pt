<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Junta-te ao Clube - Inscrição</title>
    <!-- Carregando Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Ícones Lucide -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background-color: var(--color-bg-light); /* Fundo Creme da imagem */
            /* Padding superior para compensar a nav-bar fixa */
            padding-top: 5rem; 
            color: var(--color-primary-text);
        }

        /* Classe para o Header Fixo (Adaptação para o estilo claro) */
        .fixed-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            color: var(--color-card-bg); /* Fundo branco/claro */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05); /* Sombra suave */
            z-index: 50; 
            height: 5rem; 
            background-color: #ffffff;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
            animation: fadeIn 0.8s ease-out forwards;
        }

         .pagination-control:hover:not(:disabled) {
            background-color: #f3f4f6; /* gray-100 */
        }
        
        .pagination-active {
            background-color: var(--color-dark-button);
            color: rgb(199, 195, 195);
        }

        .pagination-control:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body class="min-h-screen">

     <!-- BARRA DE NAVEGAÇÃO FIXA AO TOPO -->
    <header class="fixed-header">
        <nav class="max-w-7xl mx-auto p-4 flex justify-between items-center h-full">
            <!-- Logo e Nome do Clube -->
            <a href="homepage.html" class="flex items-center space-x-3 flex-shrink-0 cursor-pointer hover:opacity-80 transition-opacity">
                <img src="imagens/fundo/transferir.png" alt="CF Oeiras Logo" class="w-12 h-12 object-contain">
                <div class="text-xs font-bold uppercase tracking-widest leading-tight text-gray-900">
                    CLUBE FUTSAL <br> DE OEIRAS
                </div>
            </a>

            <!-- Links de Navegação (Equipas em destaque) -->
            <div class="hidden lg:flex justify-center space-x-8 xl:space-x-12 text-base font-semibold">
                <!-- LINK CORRIGIDO: Aponta de volta para o homepage (equipas.html) -->
                <a href="homepage.html" class="hover:text-red-500 transition duration-300">Início</a>
                <!-- LINK ATIVO: Página atual -->
                <a href="equipas.html" class="hover:text-gray-600 transition duration-300">Equipas</a>
                <a href="agenda.html" class="hover:text-red-500 transition duration-300">Agenda</a>
                <a href="noticias.html" class="hover:text-red-500 transition duration-300">Notícias</a>
                <a href="sobre.cfo.html" class="hover:text-red-500 transition duration-300">Sobre Nós</a>
                <a href="loja1.html" class="hover:text-red-500 transition duration-300">Loja</a>
                <a href="patrocinadores.html" class="hover:text-red-500 transition duration-300">Patrocinadores</a>

            </div>

             <!-- Botão de Ação Principal -->
            <a href="junta.html" class="bg-red-600 text-white font-bold py-2 px-6 rounded-full text-sm hover:bg-red-600 hover:text-white duration-300 shadow-lg">
                JUNTA-TE AO CLUBE
            </a> 

            
            <!-- Menu Hamburger (para mobile) -->         
            <button class="lg:hidden text-gray-900">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </nav>
    </header>

    <!-- CONTENT CONTAINER PRINCIPAL -->
    <main class="max-w-4xl mx-auto mt-12 mb-16 px-4">
        <div class="bg-white rounded-3xl shadow-2xl p-6 md:p-12 animate-fadeIn">

            <!-- TÍTULO E INTRODUÇÃO -->
            <div class="text-center mb-10 border-b pb-6 border-gray-100">
                <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 mb-4 flex items-center justify-center">
                    <i data-lucide="shield-plus" class="w-8 h-8 mr-3 text-red-600"></i>
                    Junta-te ao Clube
                </h1>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                    Preenche o formulário abaixo para manifestar o teu interesse em fazer parte do Clube Futsal de Oeiras. Entraremos em contacto brevemente!
                </p>
            </div>

            <!-- FORMULÁRIO DE INSCRIÇÃO -->
            <form id="enrollment-form" class="space-y-6">

                <!-- Campo Nome Completo -->
                <div>
                    <label for="nome" class="block text-sm font-medium text-gray-700 mb-2">Nome Completo</label>
                    <div class="mt-1 relative rounded-lg shadow-sm">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <i data-lucide="user" class="h-5 w-5 text-gray-400"></i>
                        </div>
                        <input type="text" id="nome" name="nome" required 
                               class="block w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-yellow-700 focus:border-yellow-700 transition duration-150"
                               placeholder="Ex: João Silva">
                    </div>
                </div>

                <!-- Campo Email -->
                <div>
                    <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                    <div class="mt-1 relative rounded-lg shadow-sm">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <i data-lucide="mail" class="h-5 w-5 text-gray-400"></i>
                        </div>
                        <input type="email" id="email" name="email" required 
                               class="block w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-yellow-700 focus:border-yellow-700 transition duration-150"
                               placeholder="o.teu.email@exemplo.pt">
                    </div>
                </div>

                <!-- Grelha para Telefone e Idade -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Número de Telefone -->
                    <div>
                        <label for="telefone" class="block text-sm font-medium text-gray-700 mb-2">Número de Telefone</label>
                        <div class="mt-1 relative rounded-lg shadow-sm">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i data-lucide="phone" class="h-5 w-5 text-gray-400"></i>
                            </div>
                            <input type="tel" id="telefone" name="telefone" required 
                                   class="block w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-yellow-700 focus:border-yellow-700 transition duration-150"
                                   placeholder="9XX XXX XXX" pattern="[0-9]{9}">
                        </div>
                        <p class="mt-1 text-xs text-gray-500">Formato: 9 dígitos (só números)</p>
                    </div>

                    <!-- Idade -->
                    <div>
                        <label for="idade" class="block text-sm font-medium text-gray-700 mb-2">Idade (anos)</label>
                        <div class="mt-1 relative rounded-lg shadow-sm">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i data-lucide="cake" class="h-5 w-5 text-gray-400"></i>
                            </div>
                            <input type="number" id="idade" name="idade" required min="5" max="99"
                                   class="block w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-yellow-700 focus:border-yellow-700 transition duration-150"
                                   placeholder="Mínimo 5 anos">
                        </div>
                    </div>
                </div>

                <!-- Botão de Envio -->
                <button type="submit" 
                        class="w-full py-4 mt-8 bg-gray-900 text-white text-lg font-semibold rounded-xl hover:bg-red-700 transition duration-300 shadow-xl shadow-gray-300/50 hover:shadow-yellow-300/50">
                    ENVIAR INSCRIÇÃO
                </button>
            </form>

            <!-- Tabela de Dados (Simulada) -->
            <div id="data-table-container" class="mt-12">
                <h2 class="text-2xl font-bold text-gray-900 mb-4 border-b pb-2">Inscrições Feitas</h2>
                <div class="overflow-x-auto bg-gray-50 rounded-lg shadow-inner">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-100">
                            <tr>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Nome
                                </th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Email
                                </th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Telefone
                                </th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Idade
                                </th>
                            </tr>
                        </thead>
                        <tbody id="submission-list" class="bg-white divide-y divide-gray-200">
                            <!-- Linhas de dados submetidos serão inseridas aqui -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Mensagem de Confirmação (Substitui o alert/confirm) -->
            <div id="confirmation-modal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 transition-opacity duration-300">
                <div class="bg-white rounded-xl shadow-2xl p-8 w-11/12 max-w-sm text-center transform scale-95 transition-transform duration-300">
                    <i data-lucide="check-circle" class="w-12 h-12 text-green-500 mx-auto mb-4"></i>
                    <h3 class="text-2xl font-bold text-gray-900 mb-2">Sucesso!</h3>
                    <p class="text-gray-700 mb-6">O seu interesse foi registado com sucesso. Obrigado por querer fazer parte do nosso clube!</p>
                    <button id="modal-close-btn" class="w-full py-3 bg-yellow-700 text-white font-semibold rounded-lg hover:bg-yellow-800 transition duration-200">
                        Fechar
                    </button>
                </div>
            </div>

        </div>
    </main>

    <!-- RODAPÉ (FOOTER) -->
    <footer class="bg-white border-t border-gray-200 mt-12">
        <div class="max-w-5xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <p class="text-xs text-gray-500">
                    © 2025 Clube Futsal de Oeiras. Todos os direitos reservados.
                </p>
            </div>
        </div>
    </footer>

    <!-- LÓGICA JAVASCRIPT -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Inicializa os ícones
            lucide.createIcons();
            
            const form = document.getElementById('enrollment-form');
            const submissionList = document.getElementById('submission-list');
            const modal = document.getElementById('confirmation-modal');
            const modalCloseBtn = document.getElementById('modal-close-btn');

            // Simulação de armazenamento (usa localStorage para persistência neste exemplo)
            const STORAGE_KEY = 'cfo_enrollments';

            function getSubmissions() {
                try {
                    const submissionsJson = localStorage.getItem(STORAGE_KEY);
                    return submissionsJson ? JSON.parse(submissionsJson) : [];
                } catch (e) {
                    console.error("Erro ao carregar dados de inscrição:", e);
                    return [];
                }
            }

            function saveSubmissions(submissions) {
                localStorage.setItem(STORAGE_KEY, JSON.stringify(submissions));
                renderSubmissions();
            }

            function renderSubmissions() {
                const submissions = getSubmissions();
                submissionList.innerHTML = ''; // Limpa a lista
                
                if (submissions.length === 0) {
                    const row = `
                        <tr>
                            <td colspan="4" class="px-6 py-4 text-sm text-gray-500 text-center italic">
                                Sem inscrições registadas.
                            </td>
                        </tr>
                    `;
                    submissionList.insertAdjacentHTML('beforeend', row);
                    return;
                }

                submissions.forEach(sub => {
                    const row = `
                        <tr class="hover:bg-yellow-50 transition duration-150">
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${sub.nome}</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${sub.email}</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${sub.telefone}</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${sub.idade}</td>
                        </tr>
                    `;
                    submissionList.insertAdjacentHTML('beforeend', row);
                });
            }

            function showConfirmationModal() {
                modal.classList.remove('hidden');
                // Adiciona a animação de entrada
                setTimeout(() => {
                    modal.classList.add('opacity-100');
                    modal.querySelector('div').classList.add('scale-100');
                }, 10);
            }

            function hideConfirmationModal() {
                 // Remove a animação de saída
                modal.classList.remove('opacity-100');
                modal.querySelector('div').classList.remove('scale-100');
                // Esconde o modal após a transição
                setTimeout(() => {
                     modal.classList.add('hidden');
                }, 300);
            }

            // --- Handler do Formulário ---
            form.addEventListener('submit', function(e) {
                e.preventDefault();

                // Recolher dados
                const newSubmission = {
                    nome: document.getElementById('nome').value,
                    email: document.getElementById('email').value,
                    telefone: document.getElementById('telefone').value,
                    idade: parseInt(document.getElementById('idade').value)
                };

                // Adicionar à lista
                const submissions = getSubmissions();
                submissions.push(newSubmission);
                saveSubmissions(submissions);

                // Mostrar modal de sucesso
                showConfirmationModal();

                // Limpar formulário
                form.reset();
            });

            // --- Listener do Modal ---
            modalCloseBtn.addEventListener('click', hideConfirmationModal);
            
            // Permite fechar o modal ao clicar fora
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    hideConfirmationModal();
                }
            });


            // Carregar e renderizar dados ao carregar a página
            renderSubmissions();
        });
    </script>
</body>
</html>